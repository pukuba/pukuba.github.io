---
title: 내가 최근 진행하고있는 프로젝트 이야기
layout: post
tags: Study Sunrin
categories: Back-End
date: 2020-12-02 12:38:00 

--- 

최근 학교 프로젝트로 만들고있는 프로그래머스 API 제작이야기

## 만들게된 동기.

처음에 게임머니로 할 수 있는 웹게임을 제작하려고 하였습니다만, 돈세탁 + 도박 같다는 소리를 듣고 다른 아이디어를 찾던 중 친구가 아이디어를 제공해주었습니다. 프로그래머스에는 검색기능이 없다는 말을 듣고, 문제를 검색 API를 만들어 보면 어떨까? 라는 생각을 하게 됐습니다. 그렇게 프로젝트 시작하였습니다.

<hr>

## 개발 #1

우선 파이썬의 Beautifulsoup 를 이용하여 프로그래머스의 모든문제를 크롤링 하였습니다. 문제의 url, 난이도, 태그, 제목을 크롤링하여 csv파일로 저장하였습니다.

<hr>

## 개발 #2

저는 REST API의 라우팅 설정을 매우 매우 번거롭다고 생각합니다. 매번 엔드포인트를 만들고 프론트엔드 개발자에게 알려주고 가져가고 싶은 데이터만 가져갈 수 없는 REST API 대신 GraphQL 을 이용하였습니다.


Node.js의 apollo-server-express, express, mongodb 모듈을 이용하여 개발하였습니다. GQL을 이용하기 위해 apollo-server-express 를 이용하였고, 성능을 생각하여 mongodb 모듈을 이용하였습니다.

CSV 파일을 db에 담고 쿼리하나만들고 depth-limit, validation-complexity, time-out 등 보안&성능에 관한 코드를 작성하고 배포하니 끝나서 너무 아쉬웠습니다.

2월까지 하는 프로젝트인데 11월에 끝내버려서 이대로는 좀 그렇다라는 생각을 하여서 기획을 하였습니다.

<hr>

## 기획 #1

BOJ 처럼 문제에 대한 게시판, 회원 기능, 레이팅, 문제 추천 등 다양한 기능을 추가한 웹을 제작하기로 하였습니다. 

<hr>

## 개발 #3

프로젝트의 규모가 조금 더 커졌으니. 보안&성능을 위해 docker를 이용하여 앞단에 Nginx를 새웠습니다.

이제 db에 문제 지문까지 필요하여서 그전에 작성한 python 크롤링 코드를 수정하여서 csv파일을 변경하였습니다.

회원 기능을 위해 jwt토큰을 사용하였고, 테스트를 위해 mocha라는 테스트 프레임워크를 이용하였습니다.

그후 게시판 기능을 만들어야겠다고 생각하였고 markdown-it 모듈을 사용하여 마크다운 형식의 게시판 기능을 제작하였습니다.

문제를 추천하는 쿼리를 좀 더 만들고, 커뮤니티 로직과 회원 관련 로직 코드를 리팩토링하였습니다.

그 후 몇 가지의 쿼리에서 성능을 최적화 할 수 있는 방법을 고민하였습니다. mongodb에서 검색을 빠르게 하기 위해 db에 인덱스를 추가하여 성능 최적화를 하였습니다.

<hr>

## 프로젝트

아직 완성되지는 않았지만 현재까지 개발된 코드는

<a href="https://github.com/pukuba/programmers-search">https://github.com/pukuba/programmers-search</a> 에 있습니다.